import { AboutSlint, Button, VerticalBox } from "std-widgets.slint";
import {Intropage }from "./introquotepage.slint";



component CustomButton inherits Rectangle {
    in property <string> text; // Text to display
    in property <bool> enabled: true; // Enabled state
    callback clicked; // Click event

    border-radius: 30px;
    background: black; // Green when enabled, gray when disabled
    border-width: 1px;
    min-height: 40px; // Minimum height to accommodate text

    // Text element for button label with word wrapping
    Text {
        text: root.text;
        font-size: 36px;
        color: white; // White text when enabled, light gray when disabled
        horizontal-alignment: center;
        vertical-alignment: center;
        wrap: word-wrap; // Enable word wrapping
        width: 100%; // Use full button width
        font-family: "Bebas Neue";
        font-weight: 400;
    }

    // TouchArea for handling clicks
    TouchArea {
        enabled: root.enabled;
        clicked => {
            root.clicked();
        }
    }

   
}
export component Trivia1 inherits Window {
  
    
    no-frame: true;
    width: 1200px;
    height: 800px;
     // State properties
    property <int> score: 0;
    property <string> feedback: "";
    property <bool> answered: false;
    property <int> current_question: 0;
    property <bool> quiz_finished: false;

    // Question data
    property <[string]> questions: [
        "1. Lucha (Luciana Aymar) Cuál es el mayor logro de Luciana “Lucha” Aymar en el hockey?",
        "2. Manu (Emanuel Ginóbili) ¿Qué hito consiguió Manu Ginóbili en la NBA?",
        "3. Matador (Mario Kempes) ¿Por qué es recordado Mario “el Matador” Kempes en la historia del fútbol argentino?",
        "4. Willy (Guillermo Vilas) ¿Qué logro histórico consiguió Guillermo “Willy” Vilas en el tenis?",
        "5. Pelusa (Diego Maradona) ¿Por qué le decían “Pelusa” a Diego Maradona?"
    ];
    property <[[string]]> answers: [
        ["a) Fue la primera argentina en ganar un Mundial de Hockey sobre Césped", "b) Fue elegida ocho veces la mejor jugadora del mundo por la FIH", "c) Ganó dos medallas de oro olímpicas"],
        ["a) Fue el primer argentino en ser campeón de la NBA", "b) Fue el jugador más alto de los San Antonio Spurs", "c) Fue entrenador asistente antes de retirarse"],
        ["a) Fue goleador y figura en el Mundial de 1978", "b) Fue el primer argentino en jugar en el Real Madrid", "c) Ganó la Copa América en 1987"],
        ["a) Ganó 4 torneos de Grand Slam","b) Fue número 1 del ranking ATP durante dos años consecutivos","c) Fue capitán de Copa Davis durante 20 años"],
        ["a) Porque de chico jugaba en un potrero llamado Villa Pelusa","b) Porque tenía mucho pelo enrulado en su infancia","c) Porque era muy rápido y parecía “volar como una pelusa”"]
    ];
    property <[int]> correct_answers: [1, 0, 0,0,1];

    
    

    Rectangle {
        width: 1200px;
        height: 800px;
        background: #FF3900;

        VerticalLayout {
            spacing: 20px;

            Rectangle {
                 Image {
                    source: @image-url("../assets/logo-allhands.png");
                }
            }

            Rectangle {
                Text {
                    font-size: 50px;
                    horizontal-alignment: center;
                    text: "TRIVIA 1";
                    color: black;
                    wrap: word-wrap;
                    width: 50%;
                    font-family: "Bebas Neue";
                    font-weight: 1000;
                }
            }

                VerticalBox {
        spacing: 10px;
        padding: 20px;

        // Conditional display: Quiz page or Feedback page
        if !quiz_finished: VerticalBox {
            spacing: 10px;

            // Question display with word wrap
            Text {
                text: questions[current_question];
                font-size: 40px;
                font-weight: 800;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%; // Use full available width
                font-family: "Bebas Neue";
                color: white;
            }

            // Answer buttons with word wrap
            for answer[idx] in answers[current_question] : CustomButton {
                text: answer;
                enabled: !answered;
                width: 100%; // Use full available width for wrapping
                min-height: 40px; // Allow button to grow vertically for wrapped text
                
                clicked => {
                    if (idx == correct_answers[current_question]) {
                        score += 5;
                        feedback = "Correct! +5 points";
                    } else {
                        feedback = "Incorrect. Try again!";
                    }
                    answered = true;
                    if (current_question < questions.length - 1) {
                        current_question += 1;
                        answered = false;
                        feedback = "";
                    } else {
                        quiz_finished = true;
                        feedback = "Quiz finished! Final Score: \{score}";
                    }
                }
            }

            // Feedback display
            Text {
                text: feedback;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }
        }

        // Feedback page
        if quiz_finished: VerticalBox {
            spacing: 20px;
            padding: 20px;

            Text {
                text: "Quiz Completed!";
                font-size: 20px;
                font-weight: 700;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }

            Text {
                text: "Your Final Score: \{score} / \{questions.length * 5}";
                font-size: 16px;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }

            Text {
                text: feedback;
                font-size: 14px;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }

            Button {
                text: "Restart Quiz";
                width: 100%;
                min-height: 40px;
                clicked => {
                    score = 0;
                    current_question = 0;
                    answered = false;
                    feedback = "";
                    quiz_finished = false;
                    Intropage
                }
            }
        }
    }


        }
    }
    }

       

