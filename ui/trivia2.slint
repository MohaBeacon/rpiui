import { AboutSlint, Button, VerticalBox } from "std-widgets.slint";



component CustomButton inherits Rectangle {
    in property <string> text; // Text to display
    in property <bool> enabled: true; // Enabled state
    callback clicked; // Click event

    border-radius: 30px;
    background: black; // Green when enabled, gray when disabled
    border-width: 1px;
    min-height: 40px; // Minimum height to accommodate text

    // Text element for button label with word wrapping
    Text {
        text: root.text;
        font-size: 36px;
        color: white; // White text when enabled, light gray when disabled
        horizontal-alignment: center;
        vertical-alignment: center;
        wrap: word-wrap; // Enable word wrapping
        width: 100%; // Use full button width
        font-family: "Bebas Neue";
        font-weight: 400;
    }

    // TouchArea for handling clicks
    TouchArea {
        enabled: root.enabled;
        clicked => {
            root.clicked();
        }
    }

   
}
export component Trivia2 inherits Window {
      
    no-frame: true;
    width: 1200px;
    height: 800px;
     // State properties
    property <int> score: 0;
    property <string> feedback: "";
    property <bool> answered: false;
    property <int> current_question: 0;
    property <bool> quiz_finished: false;

    // Question data
    property <[string]> questions: [
        "1. Madison Square Garden (Square Garden) ¿Cuál de estos eventos históricos tuvo lugar en el Madison Square Garden?",
        "2. Wimbledon ¿Qué lo hace único a Wimbledon dentro del tenis?",
        "3. Maracaná ¿Qué acontecimiento deportivo marcó al Estadio Maracaná en 1950?",
        "4. Las Vegas ¿Qué particularidad hace famosa a Las Vegas en el deporte y el entretenimiento?"
    ];
    property <[[string]]> answers: [
        ["a) Muhammad Ali peleó contra Joe Frazier en “La Pelea del Siglo” (1971", "b) Fue sede de la final del Mundial de Fútbol 1994", "c) Allí se disputó el primer Super Bowl"],
        ["a) Es el único Grand Slam que se juega sobre césped", "b) Es el torneo más antiguo de tenis en Sudamérica", "c) Fue el primer torneo en permitir raquetas de grafito"],
        ["a) La final del Mundial donde Brasil perdió con Uruguay, conocida como el “Maracanazo”", "b) La primera final de Copa Libertadores entre Boca y River", "c) El debut internacional de Pelé"],
        ["a) Es la ciudad que más títulos olímpicos organizó","b) Es conocida mundialmente por ser sede de grandes peleas de boxeo y UFC","c) Fue la primera ciudad en tener un casino dentro de un estadio"]
        
    ];
    property <[int]> correct_answers: [0,0,0,1];

    
    

    Rectangle {
        width: 1200px;
        height: 800px;
        background: #FF3900;

        VerticalLayout {
            spacing: 20px;

            Rectangle {
                 Image {
                    source: @image-url("../assets/logo-allhands.png");
                }
            }

            Rectangle {
                Text {
                    font-size: 50px;
                    horizontal-alignment: center;
                    text: "TRIVIA 2";
                    color: black;
                    wrap: word-wrap;
                    width: 50%;
                    font-family: "Bebas Neue";
                    font-weight: 1000;
                }
            }

                VerticalBox {
        spacing: 10px;
        padding: 20px;

        // Conditional display: Quiz page or Feedback page
        if !quiz_finished: VerticalBox {
            spacing: 10px;

            // Question display with word wrap
            Text {
                text: questions[current_question];
                font-size: 40px;
                font-weight: 800;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%; // Use full available width
                font-family: "Bebas Neue";
                color: white;
            }

            // Answer buttons with word wrap
            for answer[idx] in answers[current_question] : CustomButton {
                text: answer;
                enabled: !answered;
                width: 100%; // Use full available width for wrapping
                min-height: 40px; // Allow button to grow vertically for wrapped text
                
                clicked => {
                    if (idx == correct_answers[current_question]) {
                        score += 5;
                        feedback = "Correct! +5 points";
                    } else {
                        feedback = "Incorrect. Try again!";
                    }
                    answered = true;
                    if (current_question < questions.length - 1) {
                        current_question += 1;
                        answered = false;
                        feedback = "";
                    } else {
                        quiz_finished = true;
                        feedback = "Quiz finished! Final Score: \{score}";
                    }
                }
            }

            // Feedback display
            Text {
                text: feedback;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }
        }

        // Feedback page
        if quiz_finished: VerticalBox {
            spacing: 20px;
            padding: 20px;

            Text {
                text: "Quiz Completed!";
                font-size: 20px;
                font-weight: 700;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }

            Text {
                text: "Your Final Score: \{score} / \{questions.length * 5}";
                font-size: 16px;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }

            Text {
                text: feedback;
                font-size: 14px;
                horizontal-alignment: center;
                wrap: word-wrap; // Enable word wrapping
                width: 100%;
            }

            Button {
                text: "Restart Quiz";
                width: 100%;
                min-height: 40px;
                clicked => {
                    score = 0;
                    current_question = 0;
                    answered = false;
                    feedback = "";
                    quiz_finished = false;
                }
            }
        }
    }
        }
    }
    }

       

